
.two-step-wrap {
  height: 100vh;
  width: 100vw;
}

/* ---------------------------------- */
/* Landscape CSS                      */
/* ---------------------------------- */

.landscape-sky {
  position: absolute;
  width: 100vw;
  height: 90vh;
}
.landscape-sky .stars {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  width: 100%;
  height: 100%;
  display: block;
  background: url(../img/background-stars.png) repeat top center;
  z-index: 0;
}
.landscape-sky[stage="1"] {
  background: #4B79A1;
  background: -webkit-linear-gradient(to top, #283E51, #0A2342);
  background: linear-gradient(to top, #283E51, #0A2342);
  background: -olinear-gradient(to top, #283E51, #0A2342);
}
.landscape-sky[stage="2"] {
  background: #000000;
  background: -webkit-linear-gradient(to top, #202020, #000000);
  background: linear-gradient(to top, #202020, #000000);
  background: -olinear-gradient(to top, #202020, #000000);
}
.landscape-sky[stage="2"] .stars {
  -webkit-transform: rotate(180deg);
  -moz-transform: rotate(180deg);
  -ms-transform: rotate(180deg);
  -o-transform: rotate(180deg);
  transform: rotate(180deg);
}
.landscape-sky .moon {
  position: absolute;
  top: 20%;
  -webkit-transform: translate(-50%, -50%);
  transform: translate(-50%, -50%);
  height: 20vh;
  width: 20vh;
  border-radius: 100%;
  box-sizing: border-box;
  overflow: hidden;
}
.landscape-sky .moon[stage='2'] {
  display: none;
}
.landscape-sky .moon[color='red'] {
  background: #c25447;
}
.landscape-sky .moon[color='green'] {
  background: #47c292;
}
.landscape-sky .moon[color='blue'] {
  background: #4778c2;
}
.landscape-sky .moon[color='purple'] {
  background: #9247c2;
}
.landscape-sky .moon[side='left'] {
  left: calc(50% - 30vh);
}
.landscape-sky .moon[side='right'] {
  left: calc(50% + 30vh);
}
.landscape-sky .moon .shadow {
  position: absolute;
  top: -30%;
  right: -10%;
  border-radius: 100%;
  height: 28vh;
  width: 28vh;
  border: 4vh solid rgba(0,0,0,.15);
  box-sizing: border-box;
}
.landscape-sky .moon .crater {
  position: absolute;
  top: 30%;
  left: 30%;
  -webkit-transform: translate(-50%, 0%);
  transform: translate(-50%, 0%);
  height: 20%;
  width: 20%;
  background: rgba(0,0,0,.15);
  border-radius: 100%;
  -webkit-box-shadow: inset 3px 3px 0 rgba(0,0,0,.2);
  box-shadow: inset 3px 3px 0 rgba(0,0,0,.2);
}
.landscape-sky .moon .crater::before {
  content: "";
  position: absolute;
  top: 150%;
  left: 125%;
  -webkit-transform: translate(-50%, 0%);
  transform: translate(-50%, 0%);
  height: 50%;
  width: 50%;
  background: rgba(0,0,0,.15);
  border-radius: 100%;
  -webkit-box-shadow: inset 3px 3px 0 rgba(0,0,0,.2);
  box-shadow: inset 3px 3px 0 rgba(0,0,0,.2);
}
.landscape-sky .moon .crater::after {
  content: "";
  position: absolute;
  top: -40%;
  left: 200%;
  -webkit-transform: translate(-50%, 0%);
  transform: translate(-50%, 0%);
  height: 40%;
  width: 40%;
  background: rgba(0,0,0,.15);
  border-radius: 100%;
  -webkit-box-shadow: inset 3px 3px 0 rgba(0,0,0,.2);
  box-shadow: inset 3px 3px 0 rgba(0,0,0,.2);
}
.landscape-ground {
  position: absolute;
  bottom: 0;
  width: 100vw;
}
.landscape-ground[stage='1'] {
  height: 10vh;
  background: lightgrey;
}
.landscape-ground[stage='2'] {
  height: 25vh;
  background: grey;
}
.landscape-ground[stage='2'][color='red'] {
  background: #7f5d5d;
  background: linear-gradient(#654a4a 0%, #725353 30%, #7f5d5d 100%); */
}
.landscape-ground[stage='2'][color='green'] {
  background: #5b7c65;
  background: linear-gradient(#486350 0%, #516f5a 30%, #5b7c65 100%);
}
.landscape-ground[stage='2'][color='blue'] {
  background: #5f6f81;
  background: linear-gradient(#4c5867 0%, #556374 30%, #5f6f81 100%);
}
.landscape-ground[stage='2'][color='purple'] {
  background: #706081;
  background: linear-gradient(#594c67 0%, #645674 30%, #706081 100%);
}

/* ---------------------------------- */
/* Rocket CSS                         */
/* ---------------------------------- */

.tower {
  position: absolute;
  bottom: 5%;
  -webkit-transform: translate(-50%, 0%);
  transform: translate(-50%, 0%);
  height: 40vh;
  width: 6vh;
  border: 1vh solid grey;
  background:
  repeating-linear-gradient(45deg, transparent, transparent 1vh, gray 1vh, gray 1.6vh, transparent 1.6vh, transparent 6vh),
  repeating-linear-gradient(-45deg, transparent, transparent 1vh, gray 1vh, gray 1.6vh, transparent 1.6vh, transparent 6vh);
}
.tower[side='left'] {
  left: calc(50% - 60vh);
}
.tower[side='right'] {
  left: calc(50% + 60vh);
}
.tower[stage='2'] {
  display: none;
}
.tower .arm {
  position: absolute;
  top: 30%;
  height: 10%;
  width: 150%;
  border: 0.4vh solid grey;
  background-image:
  repeating-linear-gradient(45deg, transparent, transparent 1.2vh, gray 1.2vh, gray 1.4vh, transparent 1.6vh, transparent 3.0vh),
  repeating-linear-gradient(-45deg, transparent, transparent 1.2vh, gray 1.2vh, gray 1.4vh, transparent 1.6vh, transparent 3.0vh);
}
.tower[side='left'] .arm {
  left: 100%;
}
.tower[side='right'] .arm {
  right: 100%;
}
.platform {
  position: absolute;
  bottom: 5%;
  height: 2vh;
  width: 24vh;
  background: grey;
  border-radius: 2px;
}
.platform[side='left'] {
  left: calc(50% - 54vh);
}
.platform[side='right'] {
  left: calc(50% + 54vh);
  transform: translateX(-100%);
}
.platform[stage='2'] {
  display: none;
}
.rocket {
  position: absolute;
  bottom: 20%;
  z-index: 0;
  perspective: 0px;
}
.rocket[stage='1'][side='left'] {
  left: calc(50% - 36vh);
  transform: translateX(-100%);
}
.rocket[stage='common'][side='left'] {
  animation: flight-left-straight 2s ease-in;
}
@keyframes flight-left-straight {
  0% {
    left: calc(50% - 36vh);
    bottom: 20%;
    -webkit-transform: translateX(-100%);
    transform: translateX(-100%);
  }
  40% {
    left: calc(50% - 36vh);
    bottom: 20%;
    -webkit-transform: perspective(50em) translateX(-100%) rotateX(15deg) rotateZ(5deg) scale(1);
    transform: perspective(50em) translateX(-100%) rotateX(15deg) rotateZ(5deg) scale(1);
  }
  100% {
    left: calc(50% - 25vh);
    bottom: 57vh;
    -webkit-transform: perspective(50em) translateX(-100%) rotateX(15deg) rotateZ(5deg) scale(0.01);
    transform: perspective(50em) translateX(-100%) rotateX(15deg) rotateZ(5deg) scale(0.01);
  }
}
.rocket[stage='uncommon'][side='left'] {
  animation: flight-left-curve 2s ease-in;
}
@keyframes flight-left-curve {
  0% {
    left: calc(50% - 36vh);
    bottom: 20%;
    -webkit-transform: translateX(-100%);
    transform: translateX(-100%);
  }
  40% {
    left: calc(50% - 36vh);
    bottom: 20%;
    -webkit-transform: perspective(50em) translateX(-100%) rotateX(15deg) rotateZ(20deg) scale(1);
    transform: perspective(50em) translateX(-100%) rotateX(15deg) rotateZ(20deg) scale(1);
  }
  100% {
    left: calc(50% + 33vh);
    bottom: 57vh;
    -webkit-transform: perspective(50em) translateX(-100%) rotateX(15deg) rotateZ(30deg) scale(0.01);
    transform: perspective(50em) translateX(-100%) rotateX(15deg) rotateZ(30deg) scale(0.01);
  }
}
.rocket[stage='1'][side='right'] {
  left: calc(50% + 36vh);
}
.rocket[stage='common'][side='right'] {
  animation: flight-right-straight 2s ease-in;
}
@keyframes flight-right-straight {
  0% {
    left: calc(50% + 36vh);
    bottom: 20%;
  }
  40% {
    left: calc(50% + 36vh);
    bottom: 20%;
    -webkit-transform: perspective(50em) rotateX(15deg) rotateZ(-5deg) scale(1);
    transform: perspective(50em) rotateX(15deg) rotateZ(-5deg) scale(1);
  }
  100% {
    left: calc(50% + 25vh);
    bottom: 57vh;
    -webkit-transform: perspective(50em) rotateX(15deg) rotateZ(-5deg) scale(0.01);
    transform: perspective(50em) rotateX(15deg) rotateZ(-5deg) scale(0.01);
  }
}
.rocket[stage='uncommon'][side='right'] {
  animation: flight-right-curve 2s ease-in;
}
@keyframes flight-right-curve {
  0% {
    left: calc(50% + 36vh);
    bottom: 20%;
  }
  40% {
    left: calc(50% + 36vh);
    bottom: 20%;
    -webkit-transform: perspective(50em) rotateX(15deg) rotateZ(-20deg) scale(1);
    transform: perspective(50em) rotateX(15deg) rotateZ(-20deg) scale(1);
  }
  100% {
    left: calc(50% - 33vh);
    bottom: 57vh;
    -webkit-transform: perspective(50em) rotateX(15deg) rotateZ(-30deg) scale(0.01);
    transform: perspective(50em) rotateX(15deg) rotateZ(-30deg) scale(0.01);
  }
}
.rocket[stage='2'] {
  left: calc(50% - 60vh);
  bottom: 17.5vh;
  -webkit-transform: translate(-50%, 0%) scale(0.7);
  transform: translate(-50%, 0%) scale(0.7);
}
.rocket-body {
  position: relative;
  width: 12vh;
  height: 27vh;
  background-color: #dadada;
  border-radius: 100% 100% 20% 20%;
}
.rocket-body::before {
  content: '';
  position: absolute;
  left: 50%;
  bottom: -5%;
  -webkit-transform: translate(-50%, 0%);
  transform: translate(-50%, 0%);
  width: 60%;
  height: 5%;
  background-color: #554842;
  border-bottom-right-radius: 60%;
  border-bottom-left-radius: 60%;
}
.rocket-window {
  position: absolute;
  left: 50%;
  top: 40%;
  -webkit-transform: translate(-50%, -50%);
  transform: translate(-50%, -50%);
  width: 5.4vh;
  height: 5.4vh;
  border: 0.6vh solid #b4b2b2;
  border-radius: 50%;
  position: absolute;
}
.rocket-window[color='red'] {
  background: #a75248;
}
.rocket-window[color='blue'] {
  background: #486ea7;
}
.rocket-window[color='green'] {
  background: #48a782;
}
.rocket-window[color='purple'] {
  background: #955db9;
}
.rocket-studs {
  position: absolute;
  left: 50%;
  top: 75%;
  -webkit-transform: translate(-50%, -50%);
  transform: translate(-50%, -50%);
  width: 1.8vh;
  height: 1.8vh;
  background: #C0C0C0;
  border-radius: 50%;
}
.rocket-studs::before {
  content: "";
  position: absolute;
  left: -1.8vh;
  top: -1.8vh;
  width: 1.8vh;
  height: 1.8vh;
  background: #C0C0C0;
  border-radius: 50%;
}
.rocket-studs::after {
  content: "";
  position: absolute;
  left: 1.8vh;
  top: -1.8vh;
  width: 1.8vh;
  height: 1.8vh;
  background: #C0C0C0;
  border-radius: 50%;
}
.rocket-fin {
  position: absolute;
  height: 30%;
  width: 8.33vh;
  z-index: -1;
}
.rocket-fin[color='red'] {
  background-color: #a75248;
}
.rocket-fin[color='blue'] {
  background-color: #486ea7;
}
.rocket-fin[color='green']{
  background-color: #48a782;
}
.rocket-fin[color='purple'] {
  background-color: #955db9;
}
.rocket-fin[side='left'] {
  left: -40%;
  top: 70%;
  border-top-left-radius: 80%;
  border-bottom-left-radius: 20%;
}
.rocket-fin[side='right'] {
  right: -40%;
  top: 70%;
  border-top-right-radius: 80%;
  border-bottom-right-radius: 20%;
}
.rocket-fire {
  display: none;
  position: absolute;
  left: 50%;
  top: 100%;
  width: 50%;
  height: 20%;
  background: #FFA127;
  border-radius: 0 0 70% 70%;
  z-index: -1;
  animation: flame 1s infinite;
}
.rocket-fire::after {
  content: "";
  position: absolute;
  top: 0%;
  left: 50%;
  transform: translate(-50%, 0%);
  width: 50%;
  height: 70%;
  background: #FF6345;
  border-radius: 0 0 50% 50%;
}
@keyframes flame {
  0% { transform: translate(-50%, 0%) scale(1, 1) }
  50% { transform: translate(-50%, 0%) scale(1.02, 1.15) }
  100% {transform: translate(-50%, 0%) scale(1, 1) }
}

/* ---------------------------------- */
/* Alien CSS                          */
/* ---------------------------------- */

.alien {
  position: absolute;
  top: 75%;
  width: 50vh;
  -webkit-transform: translate(-50%, -50%);
  transform: translate(-50%, -50%);
}
.alien::after {
  content: '';
  position: absolute;
  left: 20%;
  bottom: -7.5%;
  width: 60%;
  height: 60%;
  background: black;
  border-radius: 50%;
  opacity: 0.1;
  transform: perspective(200px) rotateX(80deg);
  z-index: -1;
}
.alien[stage='1'] {
  display: none;
}
.alien[stage='2'][side='left'] {
  left: calc(50% - 30vh);
}
.alien[stage='2'][side='right'] {
  left: calc(50% + 30vh);
}
.alien[stage='2'][side='center'] {
  left: calc(50%);
}
.alien[status='chosen'] {
  animation: shake 0.5s linear;
}
@keyframes shake {
  0% { transform: translate(calc(-50% + 1px), calc(-50% + 1px)) rotate(0deg); }
  10% { transform: translate(calc(-50% - 1px), calc(-50% - 2px)) rotate(-1deg); }
  20% { transform: translate(calc(-50% - 3px), calc(-50% - 0px)) rotate(1deg); }
  30% { transform: translate(calc(-50% + 3px), calc(-50% + 2px)) rotate(0deg); }
  40% { transform: translate(calc(-50% + 1px), calc(-50% - 1px)) rotate(1deg); }
  50% { transform: translate(calc(-50% - 1px), calc(-50% + 2px)) rotate(-1deg); }
  60% { transform: translate(calc(-50% - 3px), calc(-50% - 0px)) rotate(0deg); }
  70% { transform: translate(calc(-50% + 3px), calc(-50% + 1px)) rotate(-1deg); }
  80% { transform: translate(calc(-50% - 1px), calc(-50% - 1px)) rotate(1deg); }
  90% { transform: translate(calc(-50% + 1px), calc(-50% + 2px)) rotate(0deg); }
  100% { transform: translate(calc(-50% + 1px), calc(-50% - 2px)) rotate(-1deg); }
}
.alien img {
  height: 100%;
  width: 100%;
  object-fit: contain;
}
.diamond {
  position: absolute;
  top: 50%;
  left: 50%;
  -webkit-transform: translate(-50%, -50%);
  transform: translate(-50%, -50%);
  width: 15vh;
  height: 15vh;
  background-image: url('../img/reward-gems.png');
  background-repeat: no-repeat;
  background-size: contain;
}
.diamond[stage='1'] {
  display: none;
}
.diamond[status='chosen'][side='left'] {
  display: inherit;
  left: calc(50% - 30vh);
  top: 45%;
  -webkit-transform: translate(-50%, -50%);
  transform: translate(-50%, -50%);
  animation: appear 0.5s;
  animation-timing-function: steps(1, end);
}
.diamond[status='chosen'][side='right'] {
  display: inherit;
  left: calc(50% + 30vh);
  top: 45%;
  -webkit-transform: translate(-50%, -50%);
  transform: translate(-50%, -50%);
  animation: appear 0.5s;
  animation-timing-function: steps(1, end);
}

.diamond[status='instructions'][side='center'] {
  display: inherit;
  width: 20vh;
  height: 20vh;
  left: calc(50% + 30vh);
  top: 45%;
  -webkit-transform: translate(100%, -30%);
  transform: translate(-200%,100%);
}

@keyframes appear {
  from { opacity: 0; }
  to { opacity: 1; }
}

.rock {
  position: absolute;
  top: 50%;
  left: 50%;
  -webkit-transform: translate(-50%, -50%);
  transform: translate(-50%, -50%);
  width: 15vh;
  height: 15vh;
  background-image: url('../img/rock.png');
  background-repeat: no-repeat;
  background-size: contain;
}
.rock[status='instructions'][side='center'] {
  display: inherit;
  width: 20vh;
  height: 20vh;
  left: calc(50% + 30vh);
  top: 45%;
  -webkit-transform: translate(100%, -30%);
  transform: translate(-200%,100%);
}




/* ---------------------------------- */
/* Instructions CSS                   */
/* ---------------------------------- */

.instructions-box {
  position: absolute;
  top: calc(50% - 11vw);
  left: 50%;
  -webkit-transform: translate(-50%, -50%);
  transform: translate(-50%, -0%);
  width: 30vw;
  height: 15vw;//5.5vw;
  background: white;
  border: 2px solid black;
  border-radius: 12px;
}
.instructions {
  position: absolute;
  top: 50%;
  left: 50%;
  -webkit-transform: translate(-50%, -50%);
  transform: translate(-50%, -50%);
  width: 95%;
}
.instructions p {
  font-size: 1vw;
  line-height: 1.5em;
  margin-block-start: 0em;
  margin-block-end: 0em;
}
.instructions br {
  font-size: 0vh;
  line-height: 0vh;
  margin-block-start: 0em;
  margin-block-end: 0em;
}
.machine-front .jspsych-instructions-nav {
  position: absolute;
  top: 100%;
  left: 50%;
  -webkit-transform: translate(-50%, 0%);
  transform: translate(-50%, 0%);
  width: 200%;
  padding: 10px 0px;
}
.machine-front .jspsych-instructions-nav .jspsych-btn {
  padding: 4px 8px;
  font-size: 0.7vw;
}
.machine-front .jspsych-instructions-nav .jspsych-btn:focus {
  outline: none;
}

/* ---------------------------------- */
/* Comprehension check                */
/* ---------------------------------- */

.comprehension-box {
  position: absolute;
  top: 50%;
  left: 50%;
  -webkit-transform: translate3d(-50%, -65%, 0);
  transform: translate3d(-50%, -65%, 0);
  width: 42vw;
  height: 24vw;
  background: #ffffff;
  border: 2px solid black;
  border-radius: 12px;
  font-size: 0.85vw;
  line-height: 1.5em;
}
.comprehension-box .jspsych-survey-multi-choice-preamble h4 {
  font-size: 1vw;
  margin-block-start: 1em;
  margin-block-end: 1.2em
}
.comprehension-box .jspsych-survey-multi-choice-question {
  margin-top: 0em;
  margin-bottom: 1.0em;
  text-align: left;
  padding-left: 2em;
}
.comprehension-box .jspsych-survey-multi-choice-horizontal .jspsych-survey-multi-choice-text {
  text-align: left;
  margin: 0em 0em 0em 0em
}
.comprehension-box .jspsych-survey-multi-choice-horizontal .jspsych-survey-multi-choice-option {
  display: inline-block;
  margin: 0.33em 1em 0em 1em;
}
.comprehension-box .jspsych-survey-multi-choice-option input[type='radio'] {
  margin-right: 0.5em;
  width: 8px;
  height: 8px;
}
.comprehension-box input[type='submit'] {
  position: absolute;
  top: 95%;
  left: 50%;
  -webkit-transform: translate(-50%, -50%);
  transform: translate(-50%, -50%);
  font-size: 0.75vw;
  padding: 4px 8px;
}
