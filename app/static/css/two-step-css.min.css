.two-step-wrap {
  height: 100vh;
  width: 100vw;
}

/* ---------------------------------- */
/* Landscape CSS                      */
/* ---------------------------------- */

.landscape-sky {
  position: absolute;
  width: 100vw;
  height: 90vh;
}
.landscape-sky .stars {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  width: 100%;
  height: 100%;
  display: block;
  background: url(../img/background-stars.png) repeat top center;
  z-index: 0;
}
.landscape-sky[stage="1"] {
  background: #4B79A1;
  background: -webkit-linear-gradient(to top, #283E51, #0A2342);
  background: linear-gradient(to top, #283E51, #0A2342);
  background: -olinear-gradient(to top, #283E51, #0A2342);
}
.landscape-sky[stage="2"] {
  background: #000000;
  background: -webkit-linear-gradient(to top, #202020, #000000);
  background: linear-gradient(to top, #202020, #000000);
  background: -olinear-gradient(to top, #202020, #000000);
}
.landscape-sky[stage="2"] .stars {
  -webkit-transform: rotate(180deg);
  -moz-transform: rotate(180deg);
  -ms-transform: rotate(180deg);
  -o-transform: rotate(180deg);
  transform: rotate(180deg);
}
.landscape-sky .moon {
  position: absolute;
  top: 20%;
  left: 50%;
  -webkit-transform: translate(-50%, -50%);
  transform: translate(-50%, -50%);
  height: 10vw;
  width: 10vw;
  border-radius: 100%;
  box-sizing: border-box;
  overflow: hidden;
}
.landscape-sky .moon[stage='2'] {
  display: none;
}
.landscape-sky .moon[color='red'] {
  background: #c25447;
}
.landscape-sky .moon[color='green'] {
  background: #47c292;
}
.landscape-sky .moon[color='blue'] {
  background: #4778c2;
}
.landscape-sky .moon[color='purple'] {
  background: #9247c2;
}
.landscape-sky .moon[side='left'] {
  left: 35vw;
}
.landscape-sky .moon[side='right'] {
  left: 65vw;
}
.landscape-sky .moon .shadow {
  position: absolute;
  top: -30%;
  right: -10%;
  border-radius: 100%;
  height: 14vw;
  width: 14vw;
  border: 2vw solid rgba(0,0,0,.15);
  box-sizing: border-box;
}
.landscape-sky .moon .crater {
  position: absolute;
  top: 30%;
  left: 30%;
  -webkit-transform: translate(-50%, 0%);
  transform: translate(-50%, 0%);
  height: 20%;
  width: 20%;
  background: rgba(0,0,0,.15);
  border-radius: 100%;
  -webkit-box-shadow: inset 3px 3px 0 rgba(0,0,0,.2);
  box-shadow: inset 3px 3px 0 rgba(0,0,0,.2);
}
.landscape-sky .moon .crater::before {
  content: "";
  position: absolute;
  top: 150%;
  left: 125%;
  -webkit-transform: translate(-50%, 0%);
  transform: translate(-50%, 0%);
  height: 50%;
  width: 50%;
  background: rgba(0,0,0,.15);
  border-radius: 100%;
  -webkit-box-shadow: inset 3px 3px 0 rgba(0,0,0,.2);
  box-shadow: inset 3px 3px 0 rgba(0,0,0,.2);
}
.landscape-sky .moon .crater::after {
  content: "";
  position: absolute;
  top: -40%;
  left: 200%;
  -webkit-transform: translate(-50%, 0%);
  transform: translate(-50%, 0%);
  height: 40%;
  width: 40%;
  background: rgba(0,0,0,.15);
  border-radius: 100%;
  -webkit-box-shadow: inset 3px 3px 0 rgba(0,0,0,.2);
  box-shadow: inset 3px 3px 0 rgba(0,0,0,.2);
}
.landscape-ground {
  position: absolute;
  bottom: 0;
  width: 100vw;
}
.landscape-ground[stage='1'] {
  height: 10vh;
  background: lightgrey;
}
.landscape-ground[stage='2'] {
  height: 25vh;
  background: grey;
}
.landscape-ground[stage='2'][color='red'] {
  background: #A97666;
  background: linear-gradient(#935440 0%, #9E6553 30%, #A97666 100%); */
}
.landscape-ground[stage='2'][color='green'] {
  background: linear-gradient(#24345d 0%, #334a82 60%, #3a5394 100%);
}
.landscape-ground[stage='2'][color='blue'] {
  background: linear-gradient(#546B72 0%, #708E98 30%, #8BADB8 100%);
}
.landscape-ground[stage='2'][color='purple'] {
  background: linear-gradient(#24345d 0%, #334a82 60%, #3a5394 100%);
}

/* ---------------------------------- */
/* Rocket CSS                         */
/* ---------------------------------- */

.tower {
  position: absolute;
  left: 50vw;
  bottom: 5%;
  -webkit-transform: translate(-50%, 0%);
  transform: translate(-50%, 0%);
  height: 20vw;
  width: 3vw;
  border: 0.5vw solid grey;
  background:
  repeating-linear-gradient(45deg, transparent, transparent 0.5vw, gray 0.5vw, gray 0.8vw, transparent 0.8vw, transparent 3vw),
  repeating-linear-gradient(-45deg, transparent, transparent 0.5vw, gray 0.5vw, gray 0.8vw, transparent 0.8vw, transparent 3vw);
}
.tower[side='left'] {
  left: 21vw;
}
.tower[side='right'] {
  left: 79vw;
}
.tower[stage='2'] {
  display: none;
}
.tower .arm {
  position: absolute;
  top: 30%;
  height: 10%;
  width: 150%;
  border: 0.2vw solid grey;
  background-image:
  repeating-linear-gradient(45deg, transparent, transparent 0.6vw, gray 0.6vw, gray 0.7vw, transparent 0.8vw, transparent 1.5vw),
  repeating-linear-gradient(-45deg, transparent, transparent 0.6vw, gray 0.6vw, gray 0.7vw, transparent 0.8vw, transparent 1.5vw);
}
.tower[side='left'] .arm {
  left: 3.5vw;
}
.tower[side='right'] .arm {
  right: 3.5vw;
}
.platform {
  position: absolute;
  left: 50vw;
  bottom: 5%;
  -webkit-transform: translate(-50%, 0%);
  transform: translate(-50%, 0%);
  height: 1vw;
  width: 12vw;
  background: grey;
  border-radius: 2px;
}
.platform[side='left'] {
  left: 30vw;
}
.platform[side='right'] {
  left: 70vw;
}
.platform[stage='2'] {
  display: none;
}
.rocket {
  position: absolute;
  bottom: 3vw;
  left: 50%;
  -webkit-transform: translate(-50%, -50%);
  transform: translate(-50%, -50%);
  z-index: 0;
  perspective: 0px;
}
.rocket[stage='1'][side='left'] {
  left: 30vw;
}
.rocket[stage='common'][side='left'] {
  animation: flight-left-straight 2s ease-in;
}
@keyframes flight-left-straight {
  0% {
    left: 30vw;
    bottom: 3vw;
  }
  40% {
    left: 30vw;
    bottom: 3vw;
    -webkit-transform: perspective(50em) translateX(-50%) translateY(-50%) rotateX(15deg) rotateZ(5deg) scale(1);
    transform: perspective(50em) translateX(-50%) translateY(-50%) rotateX(15deg) rotateZ(5deg) scale(1);
  }
  100% {
    left: 35vw;
    bottom: 55vh;
    -webkit-transform: perspective(50em) translateX(-50%) translateY(-50%) rotateX(15deg) rotateZ(5deg) scale(0.01);
    transform: perspective(50em) translateX(-50%) translateY(-50%) rotateX(15deg) rotateZ(5deg) scale(0.01);
  }
}
.rocket[stage='uncommon'][side='left'] {
  animation: flight-left-curve 2s ease-in;
}
@keyframes flight-left-curve {
  0% {
    left: 30vw;
    bottom: 3vw;
  }
  40% {
    left: 30vw;
    bottom: 3vw;
    -webkit-transform: perspective(50em) translateX(-50%) translateY(-50%) rotateX(15deg) rotateZ(20deg) scale(1);
    transform: perspective(50em) translateX(-50%) translateY(-50%) rotateX(15deg) rotateZ(20deg) scale(1);
  }
  100% {
    left: 65vw;
    bottom: 55vh;
    -webkit-transform: perspective(50em) translateX(-50%) translateY(-50%) rotateX(15deg) rotateZ(30deg) scale(0.01);
    transform: perspective(50em) translateX(-50%) translateY(-50%) rotateX(15deg) rotateZ(30deg) scale(0.01);
  }
}
.rocket[stage='1'][side='right'] {
  left: 70vw;
}
.rocket[stage='common'][side='right'] {
  animation: flight-right-straight 2s ease-in;
}
@keyframes flight-right-straight {
  0% {
    left: 70vw;
    bottom: 3vw;
  }
  40% {
    left: 70vw;
    bottom: 3vw;
    -webkit-transform: perspective(50em) translateX(-50%) translateY(-50%) rotateX(15deg) rotateZ(-5deg) scale(1);
    transform: perspective(50em) translateX(-50%) translateY(-50%) rotateX(15deg) rotateZ(-5deg) scale(1);
  }
  100% {
    left: 65vw;
    bottom: 55vh;
    -webkit-transform: perspective(50em) translateX(-50%) translateY(-50%) rotateX(15deg) rotateZ(-5deg) scale(0.01);
    transform: perspective(50em) translateX(-50%) translateY(-50%) rotateX(15deg) rotateZ(-5deg) scale(0.01);
  }
}
.rocket[stage='uncommon'][side='right'] {
  animation: flight-right-curve 2s ease-in;
}
@keyframes flight-right-curve {
  0% {
    left: 70vw;
    bottom: 3vw;
  }
  40% {
    left: 70vw;
    bottom: 3vw;
    -webkit-transform: perspective(50em) translateX(-50%) translateY(-50%) rotateX(15deg) rotateZ(-20deg) scale(1);
    transform: perspective(50em) translateX(-50%) translateY(-50%) rotateX(15deg) rotateZ(-20deg) scale(1);
  }
  100% {
    left: 35vw;
    bottom: 55vh;
    -webkit-transform: perspective(50em) translateX(-50%) translateY(-50%) rotateX(15deg) rotateZ(-30deg) scale(0.01);
    transform: perspective(50em) translateX(-50%) translateY(-50%) rotateX(15deg) rotateZ(-30deg) scale(0.01);
  }
}
.rocket[stage='2'] {
  left: 10%;
  bottom: 17.5vh;
  -webkit-transform: translate(-50%, 0%) scale(0.7);
  transform: translate(-50%, 0%) scale(0.7);
}
.rocket-body {
  position: relative;
  width: 6vw;
  height: 13.5vw;
  background-color: #dadada;
  border-radius: 100% 100% 20% 20%;
}
.rocket-body::before {
  content: '';
  position: absolute;
  left: 50%;
  bottom: -5%;
  -webkit-transform: translate(-50%, 0%);
  transform: translate(-50%, 0%);
  width: 60%;
  height: 5%;
  background-color: #554842;
  border-bottom-right-radius: 60%;
  border-bottom-left-radius: 60%;
}
.rocket-window {
  position: absolute;
  left: 50%;
  top: 40%;
  -webkit-transform: translate(-50%, -50%);
  transform: translate(-50%, -50%);
  width: calc(6vw * 0.45);
  height: calc(6vw * 0.45);
  border: 0.3vw solid #b4b2b2;
  border-radius: 50%;
  position: absolute;
}
.rocket-window[color='red'] {
  background: #a75248;
}
.rocket-window[color='blue'] {
  background: #486ea7
}
.rocket-studs {
  position: absolute;
  left: 50%;
  top: 75%;
  -webkit-transform: translate(-50%, -50%);
  transform: translate(-50%, -50%);
  width: calc(6vw * 0.15);
  height: calc(6vw * 0.15);
  background: #C0C0C0;
  border-radius: 50%;
}
.rocket-studs::before {
  content: "";
  position: absolute;
  left: calc(-6vw * 0.15);
  top: calc(-6vw * 0.15);
  width: calc(6vw * 0.15);
  height: calc(6vw * 0.15);
  background: #C0C0C0;
  border-radius: 50%;
}
.rocket-studs::after {
  content: "";
  position: absolute;
  left: calc(6vw * 0.15);
  top: calc(-6vw * 0.15);
  width: calc(6vw * 0.15);
  height: calc(6vw * 0.15);
  background: #C0C0C0;
  border-radius: 50%;
}
.rocket-fin {
  position: absolute;
  height: 30%;
  width: 50px;
  z-index: -1;
}
.rocket-fin[color='red'] {
  background-color: #a75248;
}
.rocket-fin[color='blue'] {
  background-color: #486ea7;
}
.rocket-fin[side='left'] {
  left: -40%;
  top: 70%;
  border-top-left-radius: 80%;
  border-bottom-left-radius: 20%;
}
.rocket-fin[side='right'] {
  right: -40%;
  top: 70%;
  border-top-right-radius: 80%;
  border-bottom-right-radius: 20%;
}
.rocket-fire {
  display: none;
  position: absolute;
  left: 50%;
  top: 100%;
  width: 50%;
  height: 20%;
  background: #FFA127;
  border-radius: 0 0 70% 70%;
  z-index: -1;
  animation: flame 1s infinite;
}
.rocket-fire::after {
  content: "";
  position: absolute;
  top: 0%;
  left: 50%;
  transform: translate(-50%, 0%);
  width: 50%;
  height: 70%;
  background: #FF6345;
  border-radius: 0 0 50% 50%;
}
@keyframes flame {
  0% { transform: translate(-50%, 0%) scale(1, 1) }
  50% { transform: translate(-50%, 0%) scale(1.02, 1.15) }
  100% {transform: translate(-50%, 0%) scale(1, 1) }
}

/* ---------------------------------- */
/* Alien CSS                          */
/* ---------------------------------- */

.alien {
  position: absolute;
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
  transform: translate(-50%, -50%);
}
.alien::after {
  content: '';
  position: absolute;
  left: 20%;
  bottom: -7.5%;
  width: 60%;
  height: 60%;
  background: black;
  border-radius: 50%;
  opacity: 0.1;
  transform: perspective(200px) rotateX(80deg);
  z-index: -1;
}
.alien[stage='1'] {
  display: none;
}
.alien[stage='2'][side='left'] {
  left: 35%;
  top: 75%;
  -webkit-transform: translate(-50%, -50%);
  transform: translate(-50%, -50%);
}
.alien[stage='2'][side='right'] {
  left: 65%;
  top: 75%;
  -webkit-transform: translate(-50%, -50%);
  transform: translate(-50%, -50%);
}
.alien[status='chosen'] {
  animation: shake 0.5s linear;
}
@keyframes shake {
  0% { transform: translate(calc(-50% + 1px), calc(-50% + 1px)) rotate(0deg); }
  10% { transform: translate(calc(-50% - 1px), calc(-50% - 2px)) rotate(-1deg); }
  20% { transform: translate(calc(-50% - 3px), calc(-50% - 0px)) rotate(1deg); }
  30% { transform: translate(calc(-50% + 3px), calc(-50% + 2px)) rotate(0deg); }
  40% { transform: translate(calc(-50% + 1px), calc(-50% - 1px)) rotate(1deg); }
  50% { transform: translate(calc(-50% - 1px), calc(-50% + 2px)) rotate(-1deg); }
  60% { transform: translate(calc(-50% - 3px), calc(-50% - 0px)) rotate(0deg); }
  70% { transform: translate(calc(-50% + 3px), calc(-50% + 1px)) rotate(-1deg); }
  80% { transform: translate(calc(-50% - 1px), calc(-50% - 1px)) rotate(1deg); }
  90% { transform: translate(calc(-50% + 1px), calc(-50% + 2px)) rotate(0deg); }
  100% { transform: translate(calc(-50% + 1px), calc(-50% - 2px)) rotate(-1deg); }
}

.diamond {
  position: absolute;
  top: 50%;
  left: 50%;
  -webkit-transform: translate(-50%, -50%);
  transform: translate(-50%, -50%);
  width: 7vw;
  height: 7vw;
  background-image: url('../img/reward-gems.png');
  background-repeat: no-repeat;
  background-size: contain;
}
.diamond[stage='1'] {
  display: none;
}
.diamond[status='chosen'][side='left'] {
  display: inherit;
  left: 35%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
  transform: translate(-50%, -50%);
  animation: appear 0.5s;
  animation-timing-function: steps(1, end);
}
.diamond[status='chosen'][side='right'] {
  display: inherit;
  left: 65%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
  transform: translate(-50%, -50%);
  animation: appear 0.5s;
  animation-timing-function: steps(1, end);
}
@keyframes appear {
  from { opacity: 0; }
  to { opacity: 1; }
}
